{"componentChunkName":"component---src-templates-note-js","path":"/programming/007_class_func/object/","result":{"data":{"site":{"siteMetadata":{"title":"WAT Note(II)"}},"markdownRemark":{"id":"68770504-c366-58f1-b03f-11d12ac766d7","excerpt":"Javascriptのオブジェクトについて。 Javascriptでは、オブジェクトと呼ばれる、C言語などの構造体のようなデータ構造が存在する。 ここではそれについて記載する。 オブジェクトの定義 Javascript…","html":"<p>Javascriptのオブジェクトについて。</p>\n<p>Javascriptでは、オブジェクトと呼ばれる、C言語などの構造体のようなデータ構造が存在する。</p>\n<p>ここではそれについて記載する。</p>\n<div class=\"note_content_by_programming_language\" id=\"note_content_Javascript\">\n<h2>オブジェクトの定義</h2>\n<p>Javascriptでのオブジェクトは、以下のような方法で記載する。</p>\n<p>記法</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">var</span> 変数名 <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n    key名<span class=\"token number\">1</span> <span class=\"token operator\">:</span> value名<span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n    key名<span class=\"token number\">2</span> <span class=\"token operator\">:</span> value名<span class=\"token number\">2</span><span class=\"token punctuation\">,</span>\n    ・・・\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>このように、キーと値のセットを複数連ねたような構造になる。</p>\n<p>ちなみに、オブジェクトではこのキーと値のセットのことを<strong>プロパティ</strong>と呼んでいる。</p>\n<hr>\n<h2>プロパティの書き換え</h2>\n<p>オブジェクト中のプロパティの値を書き換える方法についてを述べる。</p>\n<p>Javascriptでのオブジェクトのプロパティの書き換えは、以下のような記法で行う。</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">オブジェクトの変数名<span class=\"token punctuation\">.</span>変更したいプロパティのキー <span class=\"token operator\">=</span> 書き換えたい値<span class=\"token punctuation\">;</span>\n<span class=\"token comment\">//または</span>\nオブジェクトの変数名<span class=\"token punctuation\">[</span><span class=\"token string\">'変更したいプロパティのキー'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> 書き換えたい値<span class=\"token punctuation\">;</span></code></pre></div>\n<hr>\n<h2>プロパティの追加</h2>\n<p>オブジェクトにプロパティを追加する方法についてを述べる。</p>\n<p>Javascriptでのオブジェクトのプロパティの追加は、以下のような記法で行う。</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">オブジェクトの変数名<span class=\"token punctuation\">.</span>追加したいプロパティのキー <span class=\"token operator\">=</span> 追加したい値<span class=\"token punctuation\">;</span></code></pre></div>\n<p>要はプロパティの書き換えと同じ。</p>\n<hr>\n<h2>プロパティの削除</h2>\n<p>オブジェクト中のプロパティを削除するには、特殊演算子の<strong>delete</strong>を利用する。</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">delete</span> オブジェクトの変数名<span class=\"token punctuation\">.</span>削除したいプロパティ名</code></pre></div>\n<hr>\n<h2>thisキーワード</h2>\n<p><strong>this</strong>キーワードは、オブジェクト内でオブジェクトのプロパティを参照するときに用いる。</p>\n<p>但し、オブジェクトを参照するのは、thisがメソッドとして使用された場合に限るので注意。</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">var</span> 変数名 <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n    key名<span class=\"token number\">1</span> <span class=\"token operator\">:</span> value名<span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n    key名<span class=\"token number\">2</span> <span class=\"token operator\">:</span> value名<span class=\"token number\">2</span><span class=\"token punctuation\">,</span>\n    ・・・\n    <span class=\"token function-variable function\">key名n</span> <span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n        <span class=\"token comment\">//メソッド</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>key名<span class=\"token number\">1</span>  <span class=\"token comment\">//これでvalue名1が参照できる</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<hr>\n<h2>セッターの設定(set演算子)</h2>\n<p><strong>set</strong>演算子は、擬似プロパティを設定する演算子で、プロパティが呼び出された時に呼び出す関数を設定する演算子である。</p>\n<p>これを利用して、オブジェクトのプロパティに値を設定しようとした時に、設定した関数を呼び出してプロパティに値を設定する事が行える。</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">//例</span>\n<span class=\"token keyword\">var</span> obj <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">set</span> <span class=\"token function\">setAge</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">age</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>age <span class=\"token operator\">=</span> age<span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>category <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>age <span class=\"token operator\">>=</span> <span class=\"token number\">20</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">?</span> <span class=\"token string\">'大人'</span> <span class=\"token operator\">:</span> <span class=\"token string\">'小人'</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\nobj<span class=\"token punctuation\">.</span>setAge <span class=\"token operator\">=</span> <span class=\"token number\">18</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>obj<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>結果</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">{age: 18, category: \"小人\"}</code></pre></div>\n<hr>\n<h2>ゲッターの設定(get演算子)</h2>\n<p><strong>get</strong>演算子は、擬似プロパティを取得する演算子で、setと同様にプロパティが呼び出された時に呼び出す関数を設定する演算子である。</p>\n<p>関数には、オブジェクトのプロパティを返すように設定する。このようにする事で、プロパティを取得することが可能になる。</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">//例</span>\n<span class=\"token keyword\">var</span> obj <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">set</span> <span class=\"token function\">setAge</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">age</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>age <span class=\"token operator\">=</span> age<span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>category <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>age <span class=\"token operator\">>=</span> <span class=\"token number\">20</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">?</span> <span class=\"token string\">'大人'</span> <span class=\"token operator\">:</span> <span class=\"token string\">'小人'</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n\n    <span class=\"token keyword\">get</span> <span class=\"token function\">getAge</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>age<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\nobj<span class=\"token punctuation\">.</span>setAge <span class=\"token operator\">=</span> <span class=\"token number\">18</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>obj<span class=\"token punctuation\">.</span>getAge<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>結果</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">18</code></pre></div>\n<hr>\n<h2>プロパティの存在確認(in演算子)</h2>\n<p>指定したプロパティがオブジェクト内に存在するかを確認したいときは、<strong>in</strong>演算子を利用する。</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">//例</span>\n<span class=\"token keyword\">var</span> obj <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">set</span> <span class=\"token function\">setAge</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">age</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>age <span class=\"token operator\">=</span> age<span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>category <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>age <span class=\"token operator\">>=</span> <span class=\"token number\">20</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">?</span> <span class=\"token string\">'大人'</span> <span class=\"token operator\">:</span> <span class=\"token string\">'小人'</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n\n    <span class=\"token keyword\">get</span> <span class=\"token function\">getAge</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>age<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'setAge'</span> <span class=\"token keyword\">in</span> obj<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'a'</span> <span class=\"token keyword\">in</span> obj<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>結果</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">true\nfalse</code></pre></div>\n<h1>Objectオブジェクト</h1>\n<p>JavascriptのObjectオブジェクトは、全てのオブジェクトの基本オブジェクトである。</p>\n<p>プロパティ・メソッド類は以下の通り。</p>\n<table style=\"border:none;\">\n    <thead>\n        <th style=\"border:none;\">プロパティ名</td>\n        <th style=\"border:none;\">説明</td>\n    </thead>\n    <tr>\n        <td style=\"border:none;\">constructor</td>\n        <td style=\"border:none;\">コンストラクタを返す</td>\n    </tr>\n</table>\n<table style=\"border:none;\">\n    <thead>\n        <th style=\"border:none;\">メソッド名</td>\n        <th style=\"border:none;\">説明</td>\n    </thead>\n    <tr>\n        <td style=\"border:none;\">toString()</td>\n        <td style=\"border:none;\">オブジェクトを文字列で返す</td>\n    </tr>\n    <tr>\n        <td style=\"border:none;\">valueOf()</td>\n        <td style=\"border:none;\">オブジェクトのプリミティブ値を返す</td>\n    </tr>\n    <tr>\n        <td style=\"border:none;\">hasOwnProperty()</td>\n        <td style=\"border:none;\">指定したプロパティがオブジェクトのプロパティならばtrueを返す</td>\n    </tr>\n    <tr>\n        <td style=\"border:none;\">propertyIsEnumerable()</td>\n        <td style=\"border:none;\">指定したプロパティが列挙可能な場合trueを返す</td>\n    </tr>\n    <tr>\n        <td style=\"border:none;\">isPrototypeOf()</td>\n        <td style=\"border:none;\">指定したオブジェクトがプロトタイプの場合はtrueを返す</td>\n    </tr>\n</table>\n<p>以下に例を記載する。</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">var</span> mike <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">age</span><span class=\"token operator\">:</span> <span class=\"token number\">18</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">category</span><span class=\"token operator\">:</span> <span class=\"token string\">'小人'</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'--constructor:--'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>mike<span class=\"token punctuation\">.</span>constructor<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'--toString():--'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>mike<span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'--valueOf():--'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>mike<span class=\"token punctuation\">.</span><span class=\"token function\">valueOf</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'--hasOwnProperty(age):--'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>mike<span class=\"token punctuation\">.</span><span class=\"token function\">hasOwnProperty</span><span class=\"token punctuation\">(</span><span class=\"token string\">'age'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'--propertyIsEnumerable(age):--'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>mike<span class=\"token punctuation\">.</span><span class=\"token function\">propertyIsEnumerable</span><span class=\"token punctuation\">(</span><span class=\"token string\">'age'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'--isPrototypeOf():--'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>mike<span class=\"token punctuation\">.</span><span class=\"token function\">isPrototypeOf</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>実行結果</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">--constructor:--\nfunction Object() {\n    [native code]\n}\n--toString():--\n[object Object]\n--valueOf():--\n{age: 18, category: \"小人\"}\n--hasOwnProperty(age):--\ntrue\n--propertyIsEnumerable(age):--\ntrue\n--isPrototypeOf():--\nfalse</code></pre></div>\n<h1>prototype</h1>\n<p>prototypeプロパティは、特定のオブジェクトに存在するプロパティとメソッドを、他のオブジェクトでも利用できるように定義する方式である。</p>\n<p>必要に応じて他のオブジェクトのメソッドやプロパティを追加することで、それらを新たに追加する必要がなくなる。</p>\n<p>オブジェクト指向の言語の特徴の一つに継承というものがある。Javaなどではクラスで継承を行うが、Javascriptではこのオブジェクトで継承を行う。このような継承をプロトタイプベースの継承という。</p>\n<p>例を以下に記載する。</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">function</span> <span class=\"token function\">Person</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">name</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name <span class=\"token operator\">=</span> name\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// オブジェクト作成</span>\n<span class=\"token keyword\">var</span> mike <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Person</span><span class=\"token punctuation\">(</span><span class=\"token string\">'mike'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// コンストラクタのprototypeプロパティにプロパティsexを追加</span>\n<span class=\"token class-name\">Person</span><span class=\"token punctuation\">.</span>prototype<span class=\"token punctuation\">.</span>sex <span class=\"token operator\">=</span> <span class=\"token string\">\"male\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// オブジェクトにsexプロパティが追加されている</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>mike<span class=\"token punctuation\">.</span>sex<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>実行結果</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">male</code></pre></div>\n</div>","frontmatter":{"title":"オブジェクト(Javascript)","date":"October 20, 2019","description":"オブジェクト(Javascript)について","tags":["Javascript"]}}},"pageContext":{"id":"68770504-c366-58f1-b03f-11d12ac766d7"}},"staticQueryHashes":["2841359383","3257411868"]}
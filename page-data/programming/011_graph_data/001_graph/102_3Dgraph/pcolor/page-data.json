{"componentChunkName":"component---src-templates-note-js","path":"/programming/011_graph_data/001_graph/102_3Dgraph/pcolor/","result":{"data":{"site":{"siteMetadata":{"title":"WAT Note(II)"}},"markdownRemark":{"id":"dc0c792c-ea0c-5d64-9c9d-ea60bb54f89e","excerpt":"2変数関数のグラフとして、、ヒートマップで表示するにはpyplotの関数pcolorを利用する。 前述の2変数関数を定義するで定義した関数をヒートマップに表示する例を示す。 実行結果  ヒートマップのグラデーションの色はユーザー側で指定できる。指定したい場合は、plt.gray()、plt.jet()、plt…","html":"<p>2変数関数のグラフとして、、ヒートマップで表示するにはpyplotの関数<strong>pcolor</strong>を利用する。</p>\n<p>前述の2変数関数を定義するで定義した関数をヒートマップに表示する例を示す。</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token operator\">>></span><span class=\"token operator\">></span> <span class=\"token keyword\">import</span> math\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> <span class=\"token keyword\">import</span> numpy <span class=\"token keyword\">as</span> np\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> <span class=\"token keyword\">import</span> matplotlib<span class=\"token punctuation\">.</span>pyplot <span class=\"token keyword\">as</span> plt\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> \n<span class=\"token operator\">>></span><span class=\"token operator\">></span> <span class=\"token keyword\">def</span> <span class=\"token function\">f</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">,</span>y<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>     <span class=\"token keyword\">return</span> math<span class=\"token punctuation\">.</span>sqrt<span class=\"token punctuation\">(</span>x<span class=\"token operator\">**</span><span class=\"token number\">2</span> <span class=\"token operator\">+</span> y<span class=\"token operator\">**</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span> \n<span class=\"token operator\">>></span><span class=\"token operator\">></span> \n<span class=\"token operator\">>></span><span class=\"token operator\">></span> x <span class=\"token operator\">=</span> np<span class=\"token punctuation\">.</span>linspace<span class=\"token punctuation\">(</span><span class=\"token operator\">-</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span><span class=\"token number\">61</span><span class=\"token punctuation\">)</span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> y <span class=\"token operator\">=</span> np<span class=\"token punctuation\">.</span>linspace<span class=\"token punctuation\">(</span><span class=\"token operator\">-</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span><span class=\"token number\">61</span><span class=\"token punctuation\">)</span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> \n<span class=\"token operator\">>></span><span class=\"token operator\">></span> z <span class=\"token operator\">=</span> np<span class=\"token punctuation\">.</span>zeros<span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">len</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><span class=\"token builtin\">len</span><span class=\"token punctuation\">(</span>y<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> \n<span class=\"token operator\">>></span><span class=\"token operator\">></span> <span class=\"token keyword\">for</span> xi <span class=\"token keyword\">in</span> <span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">len</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>     <span class=\"token keyword\">for</span> yi <span class=\"token keyword\">in</span> <span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">len</span><span class=\"token punctuation\">(</span>y<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>             z<span class=\"token punctuation\">[</span>yi<span class=\"token punctuation\">,</span>xi<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> f<span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">[</span>xi<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>y<span class=\"token punctuation\">[</span>yi<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span> \n<span class=\"token operator\">>></span><span class=\"token operator\">></span> \n<span class=\"token operator\">>></span><span class=\"token operator\">></span> <span class=\"token comment\">#zをpcolorでヒートマップにプロット </span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> plt<span class=\"token punctuation\">.</span>pcolor<span class=\"token punctuation\">(</span>z<span class=\"token punctuation\">)</span>\n<span class=\"token operator\">&lt;</span>matplotlib<span class=\"token punctuation\">.</span>collections<span class=\"token punctuation\">.</span>PolyCollection <span class=\"token builtin\">object</span> at <span class=\"token number\">0x113347a58</span><span class=\"token operator\">></span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> \n<span class=\"token operator\">>></span><span class=\"token operator\">></span> <span class=\"token comment\">#ヒートマップの横にカラーバーを表示させる</span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> plt<span class=\"token punctuation\">.</span>colorbar<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token operator\">&lt;</span>matplotlib<span class=\"token punctuation\">.</span>colorbar<span class=\"token punctuation\">.</span>Colorbar <span class=\"token builtin\">object</span> at <span class=\"token number\">0x113bf8eb8</span><span class=\"token operator\">></span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> \n<span class=\"token operator\">>></span><span class=\"token operator\">></span> plt<span class=\"token punctuation\">.</span>show<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> </code></pre></div>\n<p>実行結果</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/note2-gatsby/static/94a353ddd26ff9230c8c10c2edb1abc0/21b4d/Figure_10.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 75.31645569620254%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAAB7CAAAewgFu0HU+AAADXElEQVQ4y6WU7U9TVxjA/Rf2SV0mbbEwQLRK5piDZMO4uiXLljk+jEy26FicOsNQGC+DGaBa1957UWSLC6LD8VZUQFZACcKwvDkpNKQFnKyVKd2ATfeWCGnv/S29hWXybdnz4ZzkJOeX33PO8zyrFEXh/4fCMmZVaFlYCPLn73d48Fsv9x7e4vtfXbjn3bjmxhmdHVf3sXkPk7+M4XvgZPZhH3/9Mcrio59YeDQXhikhqBICBggGwHffhG3iKfJHd5HqyCDpWhabruQT1/QJ8c0FbG3L4ZWeA+z/Lo3PPQk4vS/j//k80/cvEQiEtOQwUCGIsggO3ykyR3Zg/PYIsc1H0XxlJuILK5pygYgKgYizn7HeVspz1/LYfTONr2/vZcxvw/VjG0pATToMDCpBNfcr3gts736HmMsmIs5Y0B8XiS2Q2JAtEZcrEV0soT0poKsx88zVjyh25XH9bjt90zdCNGRlyVBGhkU4567j6dZD6KoE9CaRjZkiW9MFtqVaSXxLYPM+kZhCCe1pAU1jIQeHTDTd6cF+ewCC/zIMLBlWTrTwZH02keVlxH0s8exugZSUYxgNhexILCbpDQubPhTRmyXWnC/hXYeFWncfzZ5h9b68/CnBkG8ATrsusbo2D71YRnyWxPNvWjFuLmLnExns1B3mBeMJtrwvEl0isbrSxNs3BGqcg1x2OlcAFVk9+NLTwtq6HNafKmNDjkRimsD25FKMMbm8lPApya9ZMBwQiTomseZcCen9VuoHhmgZGnkcqL5hAKrc9ehbMtFVCkQVixgOiio0+XWLapvwnkhsvoTupMi6+iL2D5to7B7kG8foSsPwGzb9UENy1x6iG4+jqbASVSKqphszJeIPS+qH6EQRbfUJDPYjHB3Po7ljgPauFUAlVJCL0OOtYN/wq7x4PZ/oiyY0Zy3oykUixZCVhOaMQGStmYS2IlL791A9nYG92UGH/Va4+eRloKKWOVMzpVS513LIuQtj914M9iwiG3PRNhSgbcgjtiWbpM4PSB9Mw+zawshcCq3VV7HX9YYN5X9aTyEYhFl/HzPzF7jptdE/00nrZBsddx3YPJ20+Rw0jbfTe68Lx9RFpmYb8Ptt+CZ8eCenCcphqSXD8LT4ryHLjw0btbBD0+ZvOBCjp21bsF8AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Figure 10\"\n        title=\"Figure 10\"\n        src=\"/note2-gatsby/static/94a353ddd26ff9230c8c10c2edb1abc0/f058b/Figure_10.png\"\n        srcset=\"/note2-gatsby/static/94a353ddd26ff9230c8c10c2edb1abc0/c26ae/Figure_10.png 158w,\n/note2-gatsby/static/94a353ddd26ff9230c8c10c2edb1abc0/6bdcf/Figure_10.png 315w,\n/note2-gatsby/static/94a353ddd26ff9230c8c10c2edb1abc0/f058b/Figure_10.png 630w,\n/note2-gatsby/static/94a353ddd26ff9230c8c10c2edb1abc0/40601/Figure_10.png 945w,\n/note2-gatsby/static/94a353ddd26ff9230c8c10c2edb1abc0/78612/Figure_10.png 1260w,\n/note2-gatsby/static/94a353ddd26ff9230c8c10c2edb1abc0/21b4d/Figure_10.png 1280w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>ヒートマップのグラデーションの色はユーザー側で指定できる。指定したい場合は、plt.<strong>gray()</strong>、plt.<strong>jet()</strong>、plt.**pink()<strong>など色を指定して行う。<br>\n指定できる色は</strong>help(pyplot.colormaps)**を参照すると記載されている。<br>\n試しに、gray()を指定した例を示す。</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token operator\">>></span><span class=\"token operator\">></span> <span class=\"token comment\">#ヒートマップの色調の指定。グレー</span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> plt<span class=\"token punctuation\">.</span>gray<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> \n<span class=\"token operator\">>></span><span class=\"token operator\">></span> plt<span class=\"token punctuation\">.</span>pcolor<span class=\"token punctuation\">(</span>z<span class=\"token punctuation\">)</span>\n<span class=\"token operator\">&lt;</span>matplotlib<span class=\"token punctuation\">.</span>collections<span class=\"token punctuation\">.</span>PolyCollection <span class=\"token builtin\">object</span> at <span class=\"token number\">0x113f6fa20</span><span class=\"token operator\">></span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> \n<span class=\"token operator\">>></span><span class=\"token operator\">></span> plt<span class=\"token punctuation\">.</span>colorbar<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token operator\">&lt;</span>matplotlib<span class=\"token punctuation\">.</span>colorbar<span class=\"token punctuation\">.</span>Colorbar <span class=\"token builtin\">object</span> at <span class=\"token number\">0x115835e48</span><span class=\"token operator\">></span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> \n<span class=\"token operator\">>></span><span class=\"token operator\">></span> plt<span class=\"token punctuation\">.</span>show<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> </code></pre></div>\n<p>実行結果</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/note2-gatsby/static/3af77dca1ce48a7d32d867ecf3d6a3af/21b4d/Figure_11.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 75.31645569620254%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAAB7CAAAewgFu0HU+AAACu0lEQVQ4y62Uy0tqURTGm/cHNHGUThoETpoVUYNCnAghEURChoQTFW1mlCEVVIoDe2qkiUQmFQUVUQRJaYMepD0oHxT0spQeRA/ru6wF3ovXJhfugX3OHpz1rd9a69u74Pv7G//jyeoU0Ovt7Q3Pz894eXlBOp3G/f09bm9vcXNzg+vra160TyaTSKVSeHx8xOvrK97f3zk2K0ZfFvz4+OCfo9EodnZ2sLKygpmZGUxOTmJiYgIulwtTU1NYXFzE5uYmjo6OOMnDwwMnovgcQcqUSCQQDAY5iERsNhu6u7thMplgNpvR39+P0dFRTrSxsYGTkxNcXV3h4uICn5+ffwSzuGdnZ1hYWMD4+Dh6e3vR1taG1tZWNDc3o6WlBRqNBp2dnbDb7fD5fFxJLBZDPB7/LZZT8t7eHjweDwYGBqDX69HY2AipVIrq6mrU1NRALpdDrVajq6sLY2NjTHl8fIxIJIKvr698woODAwwPD3MAEUkkEojFYhQXF6OkpASVlZVoaGhgcqvVyn3e3d3luDzCTCbDJVA57e3taGpqQlVVFYRCIQoLC1FUVISysjLU1dVBq9Wir68Py8vL2N7eRigUyhXMEu7v72NoaIj7RH2rra1FaWkpBAIBRCIRysvLUV9fD4PBAIvFgtXVVS6bpp5HSFOiHpI9KDtRUHnUu4qKCqaVyWRQqVSckBKTEFGura39THh6eoq5uTluONlEp9NBqVTycBQKBQ/EaDSynbxeLwPMz89jaWmJ42kwOT4kCwQCARZ1Op3sOxoQiXR0dKCnpweDg4NscCqX7DI9PY3Z2dlcwSwqnRQy69bWFvuRKBwOB0ZGRtjQbrcbfr8f6+vrPN2npyf2LFktj5CmfHd3x+eYSC8vLxEOh3F+fs7DItMfHh7yaaI9JadFPqT1ow//9SGIv28aum1+AdVl0+F7wx/2AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Figure 11\"\n        title=\"Figure 11\"\n        src=\"/note2-gatsby/static/3af77dca1ce48a7d32d867ecf3d6a3af/f058b/Figure_11.png\"\n        srcset=\"/note2-gatsby/static/3af77dca1ce48a7d32d867ecf3d6a3af/c26ae/Figure_11.png 158w,\n/note2-gatsby/static/3af77dca1ce48a7d32d867ecf3d6a3af/6bdcf/Figure_11.png 315w,\n/note2-gatsby/static/3af77dca1ce48a7d32d867ecf3d6a3af/f058b/Figure_11.png 630w,\n/note2-gatsby/static/3af77dca1ce48a7d32d867ecf3d6a3af/40601/Figure_11.png 945w,\n/note2-gatsby/static/3af77dca1ce48a7d32d867ecf3d6a3af/78612/Figure_11.png 1260w,\n/note2-gatsby/static/3af77dca1ce48a7d32d867ecf3d6a3af/21b4d/Figure_11.png 1280w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>","frontmatter":{"title":"ヒートマップ","date":"October 25, 2019","description":"2変数関数のグラフ(ヒートマップ)を作成する方法について","tags":[]}}},"pageContext":{"id":"dc0c792c-ea0c-5d64-9c9d-ea60bb54f89e"}},"staticQueryHashes":["2841359383","3257411868"]}